<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="ageliaco.rd2">
 <head>
    <metal:block1 fill-slot="style_slot">
        <span metal:use-macro="context/@@interface/macros/css_head_slot"/>
    </metal:block1>
    <metal:block2 fill-slot="javascript_head_slot" >
        <span metal:use-macro="context/@@interface/macros/js_head_slot"/>
    </metal:block2>
 
</head>
<body>

<metal:main fill-slot="main"  tal:define="navroot context/@@plone_portal_state/navigation_root_url">
    <tal:main-macro metal:define-macro="main"
        tal:define="toLocalizedTime nocall:context/@@plone/toLocalizedTime;
                    DateTime python:modules['DateTime'].DateTime">

        <div tal:replace="structure provider:plone.abovecontenttitle" />

        <div tal:replace="structure provider:plone.belowcontenttitle" />

     <!--     <p class="documentDescription" tal:content="context/description" /> -->

        <div tal:replace="structure provider:plone.abovecontentbody" />


    <div metal:use-macro="context/@@interface/macros/projets_menu"/>

    <div tal:define="projets python:view.projets('published');">
    <div class="tab-content">

            <table  class="table table-striped table-condensed tablesorter"> 
            <thead> 
            <tr> 
                <th class="ProjectTitle">Titre</th> 
                <th class="ProjectCycles">Cycles</th> 
                <th class="ProjectAuthors">Auteurs</th> 
        <!--        <th class="ProjectSupervisor" tal:condition="view/canRequestReview">Superviseur</th> -->
            </tr> 
            </thead> 
            <tbody> 
                <tal:loop tal:repeat="projet projets">
                   <tr > 
                        <td  class="ProjectTitle">
                        <span > 
                        <a tal:attributes="href projet/getURL"
                           tal:content="projet/Title" />
                        </span>
                      </td>
                      <td   class="ProjectCycles">
                       <span tal:repeat="cycle python:view.cycles(projet.getPath())">
                        <a tal:attributes="href cycle/getURL"
                           tal:content="cycle/Title" /> <br/>
                        </span>
                      </td>
                    <td   class="ProjectAuthors" tal:define="objectPath python:view.setObjectPath(projet.getPath(),withTotal=view.canRequestReview())">
                    <span metal:use-macro="context/@@interface/macros/list_auteurs"/>
                    </td>
       <!--             <td tal:condition="view/canRequestReview" tal:define="obj python:cycle.getObject()"><span tal:replace="obj/supervisor"/>
                    </td>
      -->
                </tr>
                </tal:loop>
            </tbody>
            </table> 

    </div>
</div>

        <div tal:replace="structure provider:plone.belowcontentbody" />

    </tal:main-macro>
</metal:main>

</body>
</html>
